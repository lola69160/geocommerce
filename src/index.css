/* ============================================
   SearchCommerce - Main Stylesheet
   Theme: Tech Premium Dark Mode
   ============================================ */

/* Google Fonts - Sora (Display), DM Sans (Body), JetBrains Mono (Code) */
@import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&family=Sora:wght@100..800&display=swap');

/* Design System - Must be imported before Tailwind directives */
@import "./styles/design-tokens.css";
@import "./styles/animations.css";

/* Tailwind CSS */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   LEAFLET MAP OVERRIDES (Light Mode)
   ============================================ */

/* Map Legend Override - Force visibility */
.legend-map-overlay {
  opacity: 1 !important;
  visibility: visible !important;
  display: block !important;
  animation: none !important;
  z-index: 1000 !important;
}

/* Map container */
.leaflet-container {
  background: var(--surface-100) !important; /* Beige clair #faf8f5 */
  font-family: var(--font-body) !important;
}

/* Map attribution */
.leaflet-control-attribution {
  background: var(--surface-50) !important;
  border: 1px solid var(--border-default) !important;
  color: var(--text-tertiary) !important;
  font-size: var(--text-xs) !important;
  border-radius: var(--radius-lg) !important;
  padding: var(--space-2) var(--space-3) !important;
  box-shadow: var(--shadow-sm) !important;
}

.leaflet-control-attribution a {
  color: var(--primary-500) !important; /* Coral au lieu de cyan */
  font-weight: var(--font-medium) !important;
}

/* Zoom controls */
.leaflet-control-zoom {
  border: 1px solid var(--border-default) !important;
  border-radius: var(--radius-xl) !important;
  overflow: hidden;
  box-shadow: var(--shadow-md) !important;
  background: var(--surface-50) !important;
}

.leaflet-control-zoom a {
  background: var(--surface-200) !important;
  color: var(--text-primary) !important;
  border: none !important;
  border-bottom: 1px solid var(--border-light) !important;
  width: 40px !important;
  height: 40px !important;
  line-height: 40px !important;
  font-size: 20px !important;
  font-weight: var(--font-semibold) !important;
  transition: all var(--duration-fast) var(--ease-out) !important;
}

.leaflet-control-zoom a:hover {
  background: var(--surface-50) !important; /* Blanc */
  color: var(--primary-500) !important; /* Coral */
  transform: scale(1.05);
}

.leaflet-control-zoom a:last-child {
  border-bottom: none !important;
}

/* Map popups */
.leaflet-popup-content-wrapper {
  background: var(--surface-50) !important; /* Blanc pur */
  border: 2px solid var(--border-default) !important;
  border-radius: var(--radius-2xl) !important;
  box-shadow: var(--shadow-xl) !important;
  color: var(--text-primary) !important;
  padding: 0 !important;
}

.leaflet-popup-content {
  margin: 0 !important;
  font-family: var(--font-body) !important;
  padding: var(--space-4) !important;
}

.leaflet-popup-tip-container {
  display: none !important;
}

.leaflet-popup-close-button {
  color: var(--text-tertiary) !important;
  font-size: 20px !important;
  padding: var(--space-2) !important;
  top: var(--space-2) !important;
  right: var(--space-2) !important;
  width: 32px !important;
  height: 32px !important;
  border-radius: var(--radius-lg) !important;
  transition: all var(--duration-fast) var(--ease-out) !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

.leaflet-popup-close-button:hover {
  background: var(--surface-200) !important;
  color: var(--primary-500) !important; /* Coral */
}

/* ============================================
   GLOBAL COMPONENT STYLES
   ============================================ */

/* Links */
a {
  color: var(--accent-cyan-500);
  text-decoration: none;
  transition: color var(--duration-fast);
}

a:hover {
  color: var(--accent-cyan-400);
}

/* Code blocks */
code, pre {
  font-family: var(--font-mono);
  font-size: 0.9em;
}

code {
  background: var(--surface-700);
  padding: 0.2em 0.4em;
  border-radius: var(--radius-sm);
  color: var(--accent-cyan-400);
}

pre {
  background: var(--surface-800);
  padding: var(--space-4);
  border-radius: var(--radius-lg);
  overflow-x: auto;
  border: 1px solid var(--border-subtle);
}

/* Tables */
table {
  width: 100%;
  border-collapse: collapse;
}

th, td {
  padding: var(--space-3) var(--space-4);
  text-align: left;
  border-bottom: 1px solid var(--border-subtle);
}

th {
  font-family: var(--font-display);
  font-weight: var(--font-semibold);
  color: var(--text-secondary);
  font-size: var(--text-sm);
  text-transform: uppercase;
  letter-spacing: var(--tracking-wide);
}

tr:hover td {
  background: var(--surface-700);
}

/* ============================================
   FORM ELEMENTS (Base Styles)
   ============================================ */

input, textarea, select {
  font-family: var(--font-body);
  font-size: var(--text-base);
  color: var(--text-primary);
  background: var(--surface-800);
  border: 1px solid var(--border-default);
  border-radius: var(--radius-lg);
  padding: var(--space-3) var(--space-4);
  transition:
    border-color var(--duration-fast),
    box-shadow var(--duration-fast),
    background-color var(--duration-fast);
}

input:focus, textarea:focus, select:focus {
  outline: none;
  border-color: var(--accent-cyan-500);
  box-shadow: var(--glow-sm);
  background: var(--surface-700);
}

input::placeholder, textarea::placeholder {
  color: var(--text-muted);
}

input:disabled, textarea:disabled, select:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ============================================
   BUTTON BASE STYLES
   ============================================ */

button {
  font-family: var(--font-body);
  font-weight: var(--font-medium);
  cursor: pointer;
  transition:
    transform var(--duration-fast),
    box-shadow var(--duration-fast),
    background-color var(--duration-fast),
    border-color var(--duration-fast);
}

button:active {
  transform: scale(0.98);
}

button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

/* ============================================
   UTILITY OVERRIDES
   ============================================ */

/* Hide scrollbar but allow scrolling */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Truncate text */
.truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Line clamp */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}
